<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, minimal-ui" />
<style>

#meditToolBar {
	position:fixed;
	z-index:100;
	width:90%;
	left: 5%;
	top: 0;
	height:40px;
}
#medit {
	padding: 10px;
	border:1px solid #ccc;
	height:360px;
	margin-top:48px;
	overflow: auto;
}
.btn {
	padding: 6px 10px;
	background: #e5e5e5;
	border-radius: 3px;
	margin-top: 5px;
	text-align: center;
}
#autoSaveInfo{
	padding: 10px 0;
	text-align:right;
	font-size:12px;
}
#res{
	word-break:break-all;
}
</style>
<div id="meditToolBar"></div>
<div id="medit" class="medit"></div>
<div class="btn" onClick="getContent()">预览 Preview</div>
<div class="btn" onClick="cancel()">取消 Cancel</div>
<div id="autoSaveInfo"></div>
<div id="res"></div>
<Script>var meditToolImage = "../build/";</script>
<script src="../build/medit.min.js"></script>
<script>
medit.extend({
	name: 'time',
	icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAClklEQVRYR8WXjW0VQQyExxUAHUAFJBWQVACpgFABoQJCBZAKgAqSVECogKQCSAVABUZf8B73s393QXorPa2ebs87Httjn2nHy3Z8v1YBcPfHkp5JeiHpYfzw4Vf8LiR9NbMfvY51AXD3A0lvJbH3rCtJ78yMvbqqANwdL99LOh5ZuZGEp3PjgIOZp6OznHtlZjCUXUUA7r4n6aMkdtZnSactegP0B0kv473rAMG+WFkAcfmXiPEtnplZ1kDJs7DxKRiBgcOcjQWA8IDL8Ry6D0oURlKqxErYIlSEBQcAMQlHDgCooQ/P92rxc3eHATOrhZI8SiAuzOxozNrkxaDtWxzYb9HeAwBbM7uwMCTwHABZ+5yEM7Nx5mdD3QsgQCRmr8zsMBkcAES8fsaDJ61sD6PNEKSLIl++x/9HKbRjAHhM2d2YWSq9qoisYSAAk4gkJNoAI/+k2N2p3dehYKd1/fr7dAMA7KKoQ4jHDJAY6PyArgViAwCU8jz6xZ2s5wBMsrQGIgFAITPnqHc8Heo+egoac21m+/8TQAnnGzMjtClkeA0AOmaRgclLDQYoW4SmtI7H1eTu1RCkJDwzs5NW/Lc8d/dqEqYyHOKz5ZIGY9UyhMpVQrQGYFOIoq6TXC6axprLcmfdPdm+NDNy4W7NewEzX5LL7nJsgZs1o4nM59pxSkbql47YPWAWPCe0OMW+aHKlgWQ8RBxtBdEz3JRGMtDi+YMYtwHRnHDHDITqIbvY+h3DzYLN3kkG24gOIlUNSWQ7DSfNE4x1zJTZ93rGcsSDLpkWhgDDngZV2jcJTHazp3UWk/T6sXxGJ0YBkkbtVuJ3jfCLMmxZjaSiieDx/CuJHIERRq6ix/M7uj7NWsDu83znAP4A8SpJMGG4znIAAAAASUVORK5CYII=',
	doWhat: function(node) {
		console.log(node);
		return node;
	},
	focus: function(node){
		
	},
	blur: function(node) {
		
	}
})

medit.nativeSetting(function(mode, modeName){
	console.log(mode, modeName);
})
</script>
<script>
var me = medit(document.getElementById("medit"), document.getElementById("meditToolBar"));
function getContent(){
	var res = me.getContent();
	document.getElementById("res").innerHTML = '<hr />预览 Preview:<hr />' + res;
}
function cancel(){
	me.clear();
}
me.autoSave("edit", function(data, time){
	document.getElementById("autoSaveInfo").innerHTML = "Auto save at " + (new Date(time)).toString().replace(/\(.*\)/,"");
});
me.image({
	size: 102400000,
	ext: ["png","jpeg","jpg"],
	success:function(res){
		console.log(res);
	},
	error:function(msg){
		alert("error : " + msg);
	}
});
</script>
<input type="checkbox" id="medit-settingPage-check-link"'+target+'><span>新窗口打开 Open in a new window</span>